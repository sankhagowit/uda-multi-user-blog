{% extends "baseOut.html" %}

{% block content %}
    <div class="post">
        <h4>{{post.subject}}</h4>
        <hr>
        <p>{{post.content}}</p>
        <br>
        <em class="author">{{post.author}}</em>
        <i class="date">{{post.last_modified}}</i>
        {% if post.comments > 0 %}
        <em>Comments: {{post.comments}}</em>
        {% endif %}

        {% if post.likesLength() > 0 %}
        <em>Likes: {{post.likesLength()}}</em>
        {% endif %}
    </div>
    <br>
    <form action="/{{post.key().id()}}" method="post">
        <input type="submit" value="Like">
    </form>

    <form action="/comment/{{post.key().id()}}" method="get">
        <input type="submit" value="Comment">
    </form>
    <div class="error">{{commentError}}</div>
    <br>

    {% if user %}{% if user.userName == post.author%}
    <form action="/modify/{{post.key().id()}}" method="get">
        <input type="submit" value="Edit">
    </form>

    <form action="/modify/{{post.key().id()}}" method="post">
        <input type="submit" name="Delete" value="Delete">
    </form>
    <div class="error">{{modifyError}}</div>
    <br><br>
    {% endif %}{% endif %}

    {% if commentActive %}
        Comments are active
    <form action="/comment/{{post.key().id()}}" method="post">

        <input type="submit" value="Submit Comment">
    </form>
    <form action="/{{post.key().id()}}" method="get">
        <input type="submit" value="Cancel Comment">
    </form>
    {% endif %}


    comments go down here
{% endblock %}